
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>User guide &#8212; Cirq on IQM 15.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=06c08fbf"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="API.html" />
    <link rel="prev" title="Cirq on IQM" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="15.0" />
    <meta name="docbuild:last-update" content="2024-11-01"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Cirq on IQM 15.0 documentation - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="Cirq on IQM 15.0 documentation - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">User guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="API.html">API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.html">iqm.cirq_iqm</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.devices.html">iqm.cirq_iqm.devices</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.devices.adonis.html">iqm.cirq_iqm.devices.adonis</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.devices.apollo.html">iqm.cirq_iqm.devices.apollo</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.html">iqm.cirq_iqm.devices.iqm_device</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device_metadata.html">iqm.cirq_iqm.devices.iqm_device_metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.devices.valkmusa.html">iqm.cirq_iqm.devices.valkmusa</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.extended_qasm_parser.html">iqm.cirq_iqm.extended_qasm_parser</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm.html">iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_gates.html">iqm.cirq_iqm.iqm_gates</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_gates.IQMMoveGate.html">iqm.cirq_iqm.iqm_gates.IQMMoveGate</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_operation_mapping.html">iqm.cirq_iqm.iqm_operation_mapping</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_operation_mapping.instruction_to_operation.html">iqm.cirq_iqm.iqm_operation_mapping.instruction_to_operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_operation_mapping.map_operation.html">iqm.cirq_iqm.iqm_operation_mapping.map_operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_operation_mapping.OperationNotSupportedError.html">iqm.cirq_iqm.iqm_operation_mapping.OperationNotSupportedError</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.html">iqm.cirq_iqm.iqm_sampler</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMResult.html">iqm.cirq_iqm.iqm_sampler.IQMResult</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html">iqm.cirq_iqm.iqm_sampler.IQMSampler</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.ResultMetadata.html">iqm.cirq_iqm.iqm_sampler.ResultMetadata</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.optimizers.html">iqm.cirq_iqm.optimizers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.optimizers.simplify_circuit.html">iqm.cirq_iqm.optimizers.simplify_circuit</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.optimizers.DropRZBeforeMeasurement.html">iqm.cirq_iqm.optimizers.DropRZBeforeMeasurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.optimizers.MergeOneParameterGroupGates.html">iqm.cirq_iqm.optimizers.MergeOneParameterGroupGates</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.serialize.html">iqm.cirq_iqm.serialize</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.serialize.deserialize_circuit.html">iqm.cirq_iqm.serialize.deserialize_circuit</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.serialize.serialize_circuit.html">iqm.cirq_iqm.serialize.serialize_circuit</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/iqm.cirq_iqm.transpiler.html">iqm.cirq_iqm.transpiler</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iqm.cirq_iqm.transpiler.transpile_insert_moves_into_circuit.html">iqm.cirq_iqm.transpiler.transpile_insert_moves_into_circuit</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Contributors</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/user_guide.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>User guide</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iqm-s-quantum-devices">IQM’s quantum devices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#constructing-circuits">Constructing circuits</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-1">Method 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-2">Method 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#decomposition">Decomposition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#routing">Routing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#iqm-star-architecture">IQM Star architecture</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optimization">Optimization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-on-a-real-quantum-computer">Running on a real quantum computer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authentication">Authentication</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#batch-execution">Batch execution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inspecting-the-final-circuits-before-submitting-them-for-execution">Inspecting the final circuits before submitting them for execution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-examples">More examples</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-develop-and-contribute">How to develop and contribute</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tagging-and-releasing">Tagging and releasing</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="user-guide">
<span id="id1"></span><h1>User guide<a class="headerlink" href="#user-guide" title="Link to this heading">#</a></h1>
<p>This guide serves as an introduction to the main features of Cirq on IQM. You are encouraged to run the demonstrated
code snippets and check the output yourself.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h2>
<p>The recommended way is to install the distribution package <code class="docutils literal notranslate"><span class="pre">cirq-iqm</span></code> directly from the Python Package Index (PyPI):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>cirq-iqm
</pre></div>
</div>
<p>After installation Cirq on IQM can be imported in your Python code as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">iqm</span> <span class="kn">import</span> <span class="n">cirq_iqm</span>
</pre></div>
</div>
</section>
<section id="iqm-s-quantum-devices">
<h2>IQM’s quantum devices<a class="headerlink" href="#iqm-s-quantum-devices" title="Link to this heading">#</a></h2>
<p>Cirq on IQM provides descriptions of IQM’s quantum architectures using the <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMDevice</span></code></a> class, which is a
subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.devices.Device</span></code> and implements general functionality relevant to all IQM devices. The native
gates and connectivity of the architecture are available in the <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device_metadata.IQMDeviceMetadata.html#iqm.cirq_iqm.devices.iqm_device_metadata.IQMDeviceMetadata" title="iqm.cirq_iqm.devices.iqm_device_metadata.IQMDeviceMetadata"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMDeviceMetadata</span></code></a> object returned by the
<a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice.metadata" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice.metadata"><code class="xref py py-attr docutils literal notranslate"><span class="pre">IQMDevice.metadata</span></code></a> property. It is possible to use the IQMDevice class directly, but
certain devices with predefined metadata are also available as subclasses of IQMDevice. As an example, let
us import the class <a class="reference internal" href="api/iqm.cirq_iqm.devices.adonis.Adonis.html#iqm.cirq_iqm.devices.adonis.Adonis" title="iqm.cirq_iqm.devices.adonis.Adonis"><code class="xref py py-class docutils literal notranslate"><span class="pre">Adonis</span></code></a>, which describes IQM’s five-qubit architecture, and view some of its
properties contained in its <code class="docutils literal notranslate"><span class="pre">metadata</span></code> property:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">iqm.cirq_iqm</span> <span class="kn">import</span> <span class="n">Adonis</span>

<span class="n">adonis</span> <span class="o">=</span> <span class="n">Adonis</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">adonis</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">qubit_set</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">adonis</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">gateset</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">adonis</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">nx_graph</span><span class="p">)</span>
</pre></div>
</div>
<p>IQM devices use <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.NamedQubit</span></code> to represent their qubits. The names of the qubits consist of a prefix
followed by a numeric index, so we have qubit names like <code class="docutils literal notranslate"><span class="pre">QB1</span></code>, <code class="docutils literal notranslate"><span class="pre">QB2</span></code>, etc. Note that we use 1-based
indexing. You can get the list of the qubits in a particular device by accessing the <code class="xref py py-attr docutils literal notranslate"><span class="pre">qubits</span></code> attribute of a
corresponding <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMDevice</span></code></a> instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">adonis</span><span class="o">.</span><span class="n">qubits</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="constructing-circuits">
<h2>Constructing circuits<a class="headerlink" href="#constructing-circuits" title="Link to this heading">#</a></h2>
<p>There are two main ways of constructing <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.Circuit</span></code> instances for IQM devices:</p>
<ol class="arabic simple">
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">Circuit</span></code> instance using arbitrary qubit names and types.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">Circuit</span></code> from an OpenQASM 2.0 program. The qubit names are determined by the OpenQASM <code class="docutils literal notranslate"><span class="pre">qreg</span></code> names,
appended with zero-based indices.</p></li>
</ol>
<p>Below we give an example of each method.</p>
<section id="method-1">
<h3>Method 1<a class="headerlink" href="#method-1" title="Link to this heading">#</a></h3>
<p>Construct a circuit and use arbitrary qubits:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cirq</span>

<span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">NamedQubit</span><span class="p">(</span><span class="s1">&#39;Alice&#39;</span><span class="p">),</span> <span class="n">cirq</span><span class="o">.</span><span class="n">NamedQubit</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">)</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">Circuit</span><span class="p">()</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cirq</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="n">q1</span><span class="p">))</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cirq</span><span class="o">.</span><span class="n">H</span><span class="p">(</span><span class="n">q2</span><span class="p">))</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cirq</span><span class="o">.</span><span class="n">CNOT</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cirq</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
</pre></div>
</div>
<p>This will result in the circuit</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Alice: ───X───@───M(&#39;m&#39;)───
              │   │
Bob: ─────H───X───M────────
</pre></div>
</div>
</section>
<section id="method-2">
<h3>Method 2<a class="headerlink" href="#method-2" title="Link to this heading">#</a></h3>
<p>You can read an OpenQASM 2.0 program from a file (or a string), e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OPENQASM</span> <span class="mf">2.0</span><span class="p">;</span>
<span class="n">include</span> <span class="s2">&quot;qelib1.inc&quot;</span><span class="p">;</span>

<span class="n">qreg</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">creg</span> <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="n">x</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">h</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="n">cx</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="n">measure</span> <span class="n">q</span> <span class="o">-&gt;</span> <span class="n">m</span><span class="p">;</span>
</pre></div>
</div>
<p>and convert it into a <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.Circuit</span></code> object using <a class="reference internal" href="api/iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm.html#iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm" title="iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm"><code class="xref py py-func docutils literal notranslate"><span class="pre">circuit_from_qasm()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">iqm</span> <span class="kn">import</span> <span class="n">cirq_iqm</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;circuit.qasm&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">qasm_circuit</span> <span class="o">=</span> <span class="n">cirq_iqm</span><span class="o">.</span><span class="n">circuit_from_qasm</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qasm_circuit</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>q_0: ───X───@───M(&#39;m_0&#39;)───
            │
q_1: ───H───X───M(&#39;m_1&#39;)───
</pre></div>
</div>
<p><a class="reference internal" href="api/iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm.html#iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm" title="iqm.cirq_iqm.extended_qasm_parser.circuit_from_qasm"><code class="xref py py-func docutils literal notranslate"><span class="pre">circuit_from_qasm()</span></code></a> uses the OpenQASM 2.0 parser in <code class="xref py py-mod docutils literal notranslate"><span class="pre">cirq.contrib.qasm_import</span></code>.</p>
<p>After a circuit has been constructed, it can be decomposed and routed against a particular <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMDevice</span></code></a>.</p>
</section>
</section>
<section id="decomposition">
<h2>Decomposition<a class="headerlink" href="#decomposition" title="Link to this heading">#</a></h2>
<p>The method <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice.decompose_circuit" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice.decompose_circuit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IQMDevice.decompose_circuit()</span></code></a> accepts a <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.Circuit</span></code> object as an argument and
returns the decomposed circuit containing only native operations for the corresponding device:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">decomposed_circuit</span> <span class="o">=</span> <span class="n">adonis</span><span class="o">.</span><span class="n">decompose_circuit</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">decomposed_circuit</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Alice: ───X────────────────────@───────────M(&#39;m&#39;)───
                               │           │
Bob: ─────Y^0.5───X───Y^-0.5───@───Y^0.5───M────────
</pre></div>
</div>
<p>The Hadamard and CNOT gates are not native to Adonis, so they were decomposed to X, Y and CZ gates which are.</p>
</section>
<section id="routing">
<span id="id2"></span><h2>Routing<a class="headerlink" href="#routing" title="Link to this heading">#</a></h2>
<p>Routing means transforming a circuit such that it acts on the device qubits, and respects the
device connectivity.
The method <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice.route_circuit" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice.route_circuit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IQMDevice.route_circuit()</span></code></a> accepts a <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.Circuit</span></code> object as an argument,
and returns the circuit routed against the device, acting on the device qubits instead of the
arbitrary qubits we had originally.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">routed_circuit_1</span><span class="p">,</span> <span class="n">initial_mapping</span><span class="p">,</span> <span class="n">final_mapping</span> <span class="o">=</span> <span class="n">adonis</span><span class="o">.</span><span class="n">route_circuit</span><span class="p">(</span><span class="n">decomposed_circuit</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">routed_circuit_1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>QB3: ───X────────────────────@───────────M(&#39;m&#39;)───
                             │           │
QB4: ───Y^0.5───X───Y^-0.5───@───Y^0.5───M────────
</pre></div>
</div>
<p>Along with the routed circuit <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice.route_circuit" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice.route_circuit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">route_circuit()</span></code></a> returns the <code class="docutils literal notranslate"><span class="pre">initial_mapping</span></code> and <code class="docutils literal notranslate"><span class="pre">final_mapping</span></code>.
The <code class="docutils literal notranslate"><span class="pre">initial_mapping</span></code> is either the mapping from circuit to device qubits as provided by an
<code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.AbstractInitialMapper</span></code> or a mapping that is initialized from the device graph.
The <code class="docutils literal notranslate"><span class="pre">final_mapping</span></code> is the mapping from physical qubits before inserting SWAP gates to the physical
qubits after the routing is complete</p>
<p>As mentioned above, you may also provide the initial mapping from the <em>logical</em> qubits in the circuit to the
<em>physical</em> qubits on the device yourself, by using the keyword argument <code class="docutils literal notranslate"><span class="pre">initial_mapper</span></code>.
It serves as the starting point of the routing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">initial_mapper</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">HardCodedInitialMapper</span><span class="p">({</span><span class="n">q1</span><span class="p">:</span> <span class="n">adonis</span><span class="o">.</span><span class="n">qubits</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">q2</span><span class="p">:</span> <span class="n">adonis</span><span class="o">.</span><span class="n">qubits</span><span class="p">[</span><span class="mi">0</span><span class="p">]})</span>
<span class="n">routed_circuit_2</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">adonis</span><span class="o">.</span><span class="n">route_circuit</span><span class="p">(</span>
    <span class="n">decomposed_circuit</span><span class="p">,</span>
    <span class="n">initial_mapper</span><span class="o">=</span><span class="n">initial_mapper</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">routed_circuit_2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>QB1: ───Y^0.5───X───Y^-0.5───@───Y^0.5───────M────────
                             │               │
QB3: ───X────────────────────@───────────────M(&#39;m&#39;)───
</pre></div>
</div>
<p>Under the hood, <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice.route_circuit" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice.route_circuit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">route_circuit()</span></code></a> leverages the routing provided by <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.RouteCQC</span></code>.
It works on single- and two-qubit gates, and measurement operations of arbitrary size.
If you have gates involving more than two qubits you need to decompose them before routing.
Since routing may add some SWAP gates to the circuit, you will need to decompose the circuit
again after the routing, unless SWAP is a native gate for the target device.</p>
<p>To ensure that the transpiler is restricted to a specific subset of qubits, you can provide a list
of qubits in the <code class="docutils literal notranslate"><span class="pre">qubit_subset</span></code> argument such that ancillary qubits will not be added during
routing. This is particularly useful when running Quantum Volume benchmarks.</p>
<section id="iqm-star-architecture">
<h3>IQM Star architecture<a class="headerlink" href="#iqm-star-architecture" title="Link to this heading">#</a></h3>
<p>Devices that have the IQM Star architecture (e.g. IQM Deneb) support MOVE gates that are used
to move quantum states between qubits and computational resonators.
For these devices a final MOVE gate insertion step must be performed, which introduces
the computational resonators to the circuit, and routes the two-qubit gates through them using MOVEs.</p>
<p>Under the hood, this uses the <a class="reference external" href="https://iqm-finland.github.io/iqm-client/api/iqm.iqm_client.transpile.transpile_insert_moves.html#iqm.iqm_client.transpile.transpile_insert_moves" title="(in IQM client v20.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">transpile_insert_moves()</span></code></a> function of the
<a class="reference external" href="https://iqm-finland.github.io/iqm-client/api/iqm.iqm_client.html#module-iqm.iqm_client" title="(in IQM client v20.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iqm_client</span></code></a> library. This method is exposed through <a class="reference internal" href="api/iqm.cirq_iqm.transpiler.transpile_insert_moves_into_circuit.html#iqm.cirq_iqm.transpiler.transpile_insert_moves_into_circuit" title="iqm.cirq_iqm.transpiler.transpile_insert_moves_into_circuit"><code class="xref py py-func docutils literal notranslate"><span class="pre">transpile_insert_moves_into_circuit()</span></code></a> which
can also be used by advanced users to transpile circuits that have already some MOVE gates in them,
or to remove existing MOVE gates from a circuit so the circuit can be reused on a device that does
not support them.</p>
</section>
</section>
<section id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Link to this heading">#</a></h2>
<p>Yet another important topic is circuit optimization. In addition to the optimizers available in Cirq you can also
benefit from Cirq on IQM’s <a class="reference internal" href="api/iqm.cirq_iqm.optimizers.html#module-iqm.cirq_iqm.optimizers" title="iqm.cirq_iqm.optimizers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optimizers</span></code></a> module which contains some optimization tools geared towards IQM devices.
The function <a class="reference internal" href="api/iqm.cirq_iqm.optimizers.simplify_circuit.html#iqm.cirq_iqm.optimizers.simplify_circuit" title="iqm.cirq_iqm.optimizers.simplify_circuit"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimizers.simplify_circuit()</span></code></a> is a convenience method encapsulating a particular sequence of
optimizations. Let us try it out on our decomposed and routed circuit above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">iqm.cirq_iqm.optimizers</span> <span class="kn">import</span> <span class="n">simplify_circuit</span>

<span class="n">simplified_circuit</span> <span class="o">=</span> <span class="n">simplify_circuit</span><span class="p">(</span><span class="n">routed_circuit_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">simplified_circuit</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>QB3: ───PhX(1)───@───────────────────M(&#39;m&#39;)───
                 │                   │
QB4: ────────────@───PhX(-0.5)^0.5───M────────
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The funtion <a class="reference internal" href="api/iqm.cirq_iqm.optimizers.simplify_circuit.html#iqm.cirq_iqm.optimizers.simplify_circuit" title="iqm.cirq_iqm.optimizers.simplify_circuit"><code class="xref py py-func docutils literal notranslate"><span class="pre">simplify_circuit()</span></code></a> is not associated with any IQM device, so its result may contain non-native
gates for a particular device. In the example above we don’t have them, however it is generally a good idea to run
decomposition once again after the simplification.</p>
</div>
</section>
<section id="running-on-a-real-quantum-computer">
<h2>Running on a real quantum computer<a class="headerlink" href="#running-on-a-real-quantum-computer" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment IQM does not provide a quantum computing service open to the general public.
Please contact our <a class="reference external" href="https://www.meetiqm.com/contact-us/">sales team</a> to set up your access to
an IQM quantum computer.</p>
</div>
<p>Cirq contains various simulators which you can use to simulate the circuits constructed above.
In this subsection we demonstrate how to run them on an IQM quantum computer.</p>
<p>Cirq on IQM provides <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler" title="iqm.cirq_iqm.iqm_sampler.IQMSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMSampler</span></code></a>, a subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">cirq.work.Sampler</span></code>, which is used
to execute quantum circuits and decompose/route them for the architecture of the quantum computer.
Once you have access to an IQM server you can create an <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler" title="iqm.cirq_iqm.iqm_sampler.IQMSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMSampler</span></code></a> instance and use its
<code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code> method to send a circuit for execution and retrieve the results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">iqm.cirq_iqm.iqm_sampler</span> <span class="kn">import</span> <span class="n">IQMSampler</span>

<span class="c1"># circuit = ...</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">IQMSampler</span><span class="p">(</span><span class="n">iqm_server_url</span><span class="p">)</span>
<span class="n">decomposed_circuit</span> <span class="o">=</span> <span class="n">sampler</span><span class="o">.</span><span class="n">device</span><span class="o">.</span><span class="n">decompose_circuit</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">routed_circuit</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">sampler</span><span class="o">.</span><span class="n">device</span><span class="o">.</span><span class="n">route_circuit</span><span class="p">(</span><span class="n">decomposed_circuit</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sampler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">routed_circuit</span><span class="p">,</span> <span class="n">repetitions</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">measurements</span><span class="p">[</span><span class="s1">&#39;m&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Note that the code snippet above assumes that you have set the variable <code class="docutils literal notranslate"><span class="pre">iqm_server_url</span></code> to the URL
of the IQM server. Additionally, you can pass IQM backend specific options to the <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler" title="iqm.cirq_iqm.iqm_sampler.IQMSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMSampler</span></code></a> class.
The below table summarises the currently available options:</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 14.7%" />
<col style="width: 11.8%" />
<col style="width: 14.7%" />
<col style="width: 58.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Example value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">calibration_set_id</span></code></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3.9/library/uuid.html#uuid.UUID" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">uuid.UUID</span></code></a></p></td>
<td><p>“f7d9642e-b0ca-4f2d-af2a-30195bd7a76d”</p></td>
<td><p>Indicates the calibration set to use. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means the IQM server will use the
current default calibration set automatically.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">compiler_options</span></code></p></td>
<td><p><a class="reference external" href="https://iqm-finland.github.io/iqm-client/api/iqm.iqm_client.models.CircuitCompilationOptions.html#iqm.iqm_client.models.CircuitCompilationOptions" title="(in IQM client v20.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CircuitCompilationOptions</span></code></a></p></td>
<td><p>see below</p></td>
<td><p>Contains various options that affect the compilation of the quantum circuit into an
instruction schedule.</p></td>
</tr>
</tbody>
</table>
</div>
<p>The <a class="reference external" href="https://iqm-finland.github.io/iqm-client/api/iqm.iqm_client.models.CircuitCompilationOptions.html#iqm.iqm_client.models.CircuitCompilationOptions" title="(in IQM client v20.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CircuitCompilationOptions</span></code></a> class contains the following attributes (in addition to some
advanced options described in the API documentation):</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 14.7%" />
<col style="width: 11.8%" />
<col style="width: 14.7%" />
<col style="width: 58.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Example value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_circuit_duration_over_t2</span></code></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> | <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>1.0</p></td>
<td><p>Set server-side circuit disqualification threshold. If any circuit in a job is estimated to take longer than the
shortest T2 time of any qubit used in the circuit multiplied by this value, the server will reject the job.
Setting this value to <code class="docutils literal notranslate"><span class="pre">0.0</span></code> will disable circuit duration check.
The default value <code class="docutils literal notranslate"><span class="pre">None</span></code> means the server default value will be used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">heralding_mode</span></code></p></td>
<td><p><a class="reference external" href="https://iqm-finland.github.io/iqm-client/api/iqm.iqm_client.models.HeraldingMode.html#iqm.iqm_client.models.HeraldingMode" title="(in IQM client v20.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">HeraldingMode</span></code></a></p></td>
<td><p>“zeros”</p></td>
<td><p>Heralding mode to use during execution. The default value is “none”, “zeros” enables
all-zeros heralding where the circuit qubits are measured before the circuit begins, and the
server post-selects and returns only those shots where the heralding measurement yields zeros
for all the qubits.</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example if you would like to use a particular calibration set, you can provide it as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span> <span class="o">=</span> <span class="n">IQMSampler</span><span class="p">(</span><span class="n">iqm_server_url</span><span class="p">,</span> <span class="n">calibration_set_id</span><span class="o">=</span><span class="s2">&quot;f7d9642e-b0ca-4f2d-af2a-30195bd7a76d&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The sampler will by default use an <a class="reference internal" href="api/iqm.cirq_iqm.devices.iqm_device.IQMDevice.html#iqm.cirq_iqm.devices.iqm_device.IQMDevice" title="iqm.cirq_iqm.devices.iqm_device.IQMDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMDevice</span></code></a> created based on architecture data obtained
from the server, which is then available in the <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler.device" title="iqm.cirq_iqm.iqm_sampler.IQMSampler.device"><code class="xref py py-attr docutils literal notranslate"><span class="pre">IQMSampler.device</span></code></a> property. The architecture
data depends on the calibration set used by the sampler, so one should usually use different sampler
instances for different calibration sets. Alternatively, the device can be specified directly with
the <code class="xref py py-attr docutils literal notranslate"><span class="pre">device</span></code> argument, but this is not recommended when running on a real quantum computer.</p>
<p>When executing a circuit that uses something other than the device qubits, you need to route it first,
as explained in the <a class="reference internal" href="#routing"><span class="std std-ref">Routing</span></a> section above.</p>
<section id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">#</a></h3>
<p>If the IQM server you are connecting to requires authentication, you may use
<a class="reference external" href="https://github.com/iqm-finland/cortex-cli">Cortex CLI</a> to retrieve and automatically refresh access tokens,
then set the <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IQM_TOKENS_FILE</span></code> environment variable, as instructed, to point to the tokens file.
See Cortex CLI’s <a class="reference external" href="https://iqm-finland.github.io/cortex-cli/readme.html">documentation</a> for details.</p>
<p>Alternatively, you may authenticate yourself using the <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IQM_AUTH_SERVER</span></code>,
<span class="target" id="index-2"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IQM_AUTH_USERNAME</span></code> and <span class="target" id="index-3"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IQM_AUTH_PASSWORD</span></code> environment variables, or pass them as
arguments to <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler" title="iqm.cirq_iqm.iqm_sampler.IQMSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMSampler</span></code></a>, but this approach is less secure and
considered deprecated.</p>
<p>Finally, if you are using <code class="docutils literal notranslate"><span class="pre">IQM</span> <span class="pre">Resonance</span></code>, authentication is handled differently.
Use the <span class="target" id="index-4"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IQM_TOKEN</span></code> environment variable to provide the API Token obtained
from the server dashboard.</p>
</section>
<section id="batch-execution">
<h3>Batch execution<a class="headerlink" href="#batch-execution" title="Link to this heading">#</a></h3>
<p>Multiple circuits can be submitted to the IQM quantum computer at once using the
<a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler.run_iqm_batch" title="iqm.cirq_iqm.iqm_sampler.IQMSampler.run_iqm_batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_iqm_batch()</span></code></a> method of <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler" title="iqm.cirq_iqm.iqm_sampler.IQMSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMSampler</span></code></a>.  This is often faster than
executing the circuits individually. Circuits submitted in a batch are still executed sequentially.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">circuit_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">circuit_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">routed_circuit_1</span><span class="p">)</span>
<span class="n">circuit_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">routed_circuit_2</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">sampler</span><span class="o">.</span><span class="n">run_iqm_batch</span><span class="p">(</span><span class="n">circuit_list</span><span class="p">,</span> <span class="n">repetitions</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="inspecting-the-final-circuits-before-submitting-them-for-execution">
<h3>Inspecting the final circuits before submitting them for execution<a class="headerlink" href="#inspecting-the-final-circuits-before-submitting-them-for-execution" title="Link to this heading">#</a></h3>
<p>It is possible to inspect the final circuits that would be submitted for execution before actually submitting them,
which can be useful for debugging purposes. This can be done using <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler.create_run_request" title="iqm.cirq_iqm.iqm_sampler.IQMSampler.create_run_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IQMSampler.create_run_request()</span></code></a>, which returns
a <a class="reference external" href="https://iqm-finland.github.io/iqm-client/api/iqm.iqm_client.models.RunRequest.html#iqm.iqm_client.models.RunRequest" title="(in IQM client v20.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRequest</span></code></a> containing the circuits and other data. The method accepts the same
parameters as <code class="xref py py-meth docutils literal notranslate"><span class="pre">IQMSampler.run()</span></code> and <a class="reference internal" href="api/iqm.cirq_iqm.iqm_sampler.IQMSampler.html#iqm.cirq_iqm.iqm_sampler.IQMSampler.run_iqm_batch" title="iqm.cirq_iqm.iqm_sampler.IQMSampler.run_iqm_batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IQMSampler.run_iqm_batch()</span></code></a>, and creates the run request in the same
way as those functions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># inspect the run_request without submitting it for execution</span>
<span class="n">run_request</span> <span class="o">=</span> <span class="n">sampler</span><span class="o">.</span><span class="n">create_run_request</span><span class="p">(</span><span class="n">routed_circuit_1</span><span class="p">,</span> <span class="n">repetitions</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">run_request</span><span class="p">)</span>

<span class="c1"># the following calls submit exactly the same run request for execution on the server</span>
<span class="n">sampler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">routed_circuit_1</span><span class="p">,</span> <span class="n">repetitions</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sampler</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit_run_request</span><span class="p">(</span><span class="n">run_request</span><span class="p">)</span>
</pre></div>
</div>
<p>It is also possible to print a run request when it is actually submitted by setting the environment variable
<span class="target" id="index-5"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IQM_CLIENT_DEBUG=1</span></code>.</p>
</section>
</section>
<section id="more-examples">
<h2>More examples<a class="headerlink" href="#more-examples" title="Link to this heading">#</a></h2>
<p>More examples are available in the
<a class="reference external" href="https://github.com/iqm-finland/cirq-on-iqm/tree/main/examples">examples directory</a>
of the Cirq on IQM repository.</p>
</section>
<section id="how-to-develop-and-contribute">
<h2>How to develop and contribute<a class="headerlink" href="#how-to-develop-and-contribute" title="Link to this heading">#</a></h2>
<p>Cirq on IQM is an open source Python project.
You can contribute by creating GitHub issues to report bugs or request new features,
or by opening a pull request to submit your own improvements to the codebase.</p>
<p>To start developing the project, clone the
<a class="reference external" href="https://github.com/iqm-finland/cirq-on-iqm">GitHub repository</a>
and install it in editable mode with all the extras:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:iqm-finland/cirq-on-iqm.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>cirq-on-iqm
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;.[dev,docs,testing]&quot;</span>
</pre></div>
</div>
<p>Build and view the docs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>tox<span class="w"> </span>-e<span class="w"> </span>docs
$<span class="w"> </span>firefox<span class="w"> </span>build/sphinx/html/index.html
</pre></div>
</div>
<p>Run the tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>tox
</pre></div>
</div>
</section>
<section id="tagging-and-releasing">
<h2>Tagging and releasing<a class="headerlink" href="#tagging-and-releasing" title="Link to this heading">#</a></h2>
<p>After implementing changes to Cirq on IQM one usually wants to release a new version. This means
that after the changes are merged to the main branch -</p>
<ol class="arabic simple">
<li><p>the repository should have an updated CHANGELOG with information about the new changes,</p></li>
<li><p>the latest commit should be tagged with the new version number,</p></li>
<li><p>and a release should be created based on that tag.</p></li>
</ol>
<p>The last two steps are automated, so one needs to worry only about properly updating the CHANGELOG.
It should be done along with the pull request which is introducing the main changes. The new version
must be added on top of all existing versions and the title must be “Version MAJOR.MINOR”, where MAJOR.MINOR
represents the new version number. Please take a look at already existing versions and format the rest of
your new CHANGELOG section similarly. Once the pull request is merged into main, a new tag and a release will
be created automatically based on the latest version definition in the CHANGELOG.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Cirq on IQM</p>
      </div>
    </a>
    <a class="right-next"
       href="API.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">API Reference</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iqm-s-quantum-devices">IQM’s quantum devices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#constructing-circuits">Constructing circuits</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-1">Method 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-2">Method 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#decomposition">Decomposition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#routing">Routing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#iqm-star-architecture">IQM Star architecture</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optimization">Optimization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-on-a-real-quantum-computer">Running on a real quantum computer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authentication">Authentication</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#batch-execution">Batch execution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inspecting-the-final-circuits-before-submitting-them-for-execution">Inspecting the final circuits before submitting them for execution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-examples">More examples</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-develop-and-contribute">How to develop and contribute</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tagging-and-releasing">Tagging and releasing</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Cirq on IQM developers
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2020–2024, Cirq on IQM developers.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on 2024-11-01.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>